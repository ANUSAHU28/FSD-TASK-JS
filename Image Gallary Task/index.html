<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="style.css">
        <title>Welcome To Zombi Zone</title>
    </head>
    <body>
        <!--Heading-->
        <section>
            <div class="header">
                <h1>Welcome To Wrestle Mania</h1>

                <div class="steps-container">
                    <li>Click on the 1st image and register yourself enter your
                        username, email & password.</li>
                    <li>Now, click on the 2nd image to get your details.</li>
                    <li>Click three times on the 3rd image if your score is
                        greater than 10 then click on the next image.</li>
                    <li>Finally, click on the 4th image and get a coupon.</li>
                </div>

            </div>

            <div class="gallery">
                <div id="image1" onclick="showForm()">
                    <img
                        src="./image/download.jpg"
                        alt class="Zombie image" />
                </div>
                <div id="image2" onclick="showRegisteredUser()"><img
                        src="./image/zombie2.png"
                        alt class="Zombie image" /></div>
                <div id="image3" onclick="rollDice()"><img
                        src="./image/zombie 3.jpg"
                        alt class="Zombie image" /></div>
                <div id="image4" onclick="generateCoupon()"><img
                        src="./image/zombie 4.jpg"
                        alt class="Zombie image" /></div>
            </div>

        </section>

        <!--Registration form-->
        <div id="form-container">
            <div id="registration-form">
                <h1>Register Yourself</h1>
                <form id="user-form">
                    <input type="text" id="username" placeholder="Username"><br><br>
                    <input type="email" id="email" placeholder="Email"><br><br>
                    <input type="password" id="password" placeholder="Paassword"><br><br>
                    <button type="button" onclick="registerUser()">Register</button>
                </form>
            </div>
        </div>

        <script>

            
let registeredUser = null;
let diceRolls = [];
let rollCount = 0;

function showForm() {
    document.getElementById("form-container").style.display = "block";
}

function registerUser() {
    const username = document.getElementById("username").value;
    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;


    if (username && email && password) {
        registeredUser = { username, email, password };
        document.getElementById("form-container").style.display = "none";
        alert(`${username} your registration successfulðŸ¥³!`);
    } else {
        alert("Please fill in all fields.");
    }
}

function showRegisteredUser() {
    if (registeredUser) {
        alert(`Username: ${registeredUser.username}\n\nEmail: ${registeredUser.email}`);
    } else {
        alert("Please register first.");
    }
}

function rollDice() {
    if (rollCount < 3) {
        const result = Math.floor(Math.random() * 6) + 1;
        diceRolls.push(result);
        rollCount++;

        if (rollCount === 3) {
            const sum = diceRolls.reduce((acc, current) => acc + current, 0);
            if (sum > 10) {
                alert("You can now click on the 4th image.");
            }
        } else {
            alert(`You rolled a ${result}`);
        }
    } else {
        alert("You can only roll the dice 3 times.");
    }
}

function generateCoupon() {
    if (registeredUser && rollCount === 3) {
        const coupon = Math.floor(Math.random() * 900000000000) + 100000000000;
        alert(`ðŸŽ‰CongratulationsðŸ¥³, you've won a coupon! \n Coupon Code: ${coupon}`);
    } else {
        alert("You need to fill form to generate a coupon.");
    }
}
        </script>

    </body>
</html>